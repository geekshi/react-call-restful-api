# React calls RESTful API demo
This project demonstrates using the setup generated by `create-react-app` alongside `transfermoney` or `transfermoney2` RESTful API server.

## Install
```
Copy `react-call-restful-api` to your local `create-react-app`
cd `react-call-restful-api`
npm install axios
```

## Run
```
Start `transfermoney` or `transfermoney2` RESTful API server
cd `react-call-restful-api`
npm start
Open browser and input `localhost:3000`
```

## Overview
Inside `AccountList.js`, we use axios to make a request to the API:

```js
// Inside AccountList.js
axios.get('/accounts')
```

This request is made to `localhost:3000`, the Webpack dev server. Webpack will infer that this request is actually intended for our API server. We specify in `package.json` that we would like Webpack to proxy API requests to `localhost:8080`:

```js
// Inside package.json
"proxy": "http://localhost:8080",
```

Therefore, the user's browser makes a request to Webpack at `localhost:3000` which then proxies the request to our API server at `localhost:8080`

## Deploy
Use the production of `react-call-restful-api` to deploy under `nginx`

**1. Build the React app**

```
cd `react-call-restful-api`
npm run build
```

**2. Copy the `react-call-restful-api/build` folder to `nginx`**

**3. Modify nginx.conf to use `proxy_pass`**

```
upstream backend-server {
    server localhost:8080;
}

server {
    listen       80;
    server_name  localhost;
    
    location / {
        root	build;
        index   index.html;
        proxy_pass http://backend-server;
    }
    // ...
```

**4. Open browser to access React app**

```
Input `http://localhost` to access the react app
```
